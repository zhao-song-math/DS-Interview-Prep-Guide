# 15. 3Sum

[Leetcode â†—](https://leetcode.com/problems/3sum/description/?envType=problem-list-v2&envId=xi4ci4ig) | [Neetcode â†—](https://neetcode.io/problems/three-integer-sum?list=blind75)

<font color="#FF8F00">Medium</font> | <span style="background-color:#E3F2FD; color:#1565C0; padding:3px 8px; border-radius:12px; font-size:12px; font-weight:bold;">Array</span> <span style="background-color:#FFFDE7; color:#F9A825; padding:3px 8px; border-radius:12px; font-size:12px; font-weight:bold;">Two Pointers</span> <span style="background-color:#FFEBEE; color:#B71C1C; padding:3px 8px; border-radius:12px; font-size:12px; font-weight:bold;">Sorting</span>

## Description
Given an integer array `nums`, return all the triplets `[nums[i], nums[j], nums[k]]` such that `i != j`, `i != k`, and `j != k`, and `nums[i] + nums[j] + nums[k] == 0`.

Notice that the solution set must not contain duplicate triplets.

**Example 1:**

    Input: nums = [-1,0,1,2,-1,-4]
    Output: [[-1,-1,2],[-1,0,1]]
    Explanation: 
    nums[0] + nums[1] + nums[2] = (-1) + 0 + 1 = 0.
    nums[1] + nums[2] + nums[4] = 0 + 1 + (-1) = 0.
    nums[0] + nums[3] + nums[4] = (-1) + 2 + (-1) = 0.
    The distinct triplets are [-1,0,1] and [-1,-1,2].
    Notice that the order of the output and the order of the triplets does not matter.

**Example 2:**

    Input: nums = [0,1,1]
    Output: []
    Explanation: The only possible triplet does not sum up to 0.

**Example 3:**

    Input: nums = [0,0,0]
    Output: [[0,0,0]]
    Explanation: The only possible triplet sums up to 0.

**Constraints:**
* `3 <= nums.length <= 3000`
* `-10^5 <= nums[i] <= 10^5`

---


## é¢˜ç›®è§£æž


### ðŸŸ¢ Solution 1

æ­¤è§£ä½¿ç”¨ [Two Pointers](Two_Pointers.md) ç®—æ³•ã€‚è€ƒè™‘ä¸‰ä¸ª indices `i, j, k`, å…ˆå›ºå®š `i`ï¼Œ`j` å’Œ `k` ä½œä¸ºä¸€å·¦ä¸€å³çš„åå‘åŒæŒ‡é’ˆã€‚å½“æ»¡è¶³`nums[i] + nums[j] + nums[k] = 0`æ—¶ï¼Œå°†`[nums[i],nums[j],nums[k]]`æ·»åŠ è‡³return listã€‚

```
[-1,0,1,2,-1,-4]
  i j        k

nums[i] + nums[j] + nums[k] = -5
```

é¦–å…ˆæˆ‘ä»¬éœ€è¦ç»™listæŽ’åºï¼Œè¿™æ ·åšæœ‰ä¸¤ç‚¹å¥½å¤„:

* å…³äºŽ`i`ï¼šå½“`[-1,0,1]`è¢«åŠ å…¥return listä¹‹åŽï¼Œ`i`å‘åŽç§»ï¼Œæ–°çš„`[nums[i],nums[j],nums[k]]`ç»„åˆåˆæ»¡è¶³`nums[i] + nums[j] + nums[k] = 0`ï¼Œä¸Žä¹‹å‰åŠ å…¥return listé‡å¤ã€‚ç”±äºŽ`nums`å·²ç»è¢«æŽ’å¥½åºï¼Œæˆ‘ä»¬åªè¦é€šè¿‡åˆ¤æ–­`num[i] == nums[i-1]`æ¥ç¡®å®š`nums[i]`æ˜¯å¦é‡å¤å‡ºçŽ°ï¼Œå¦‚æžœé‡å¤é‚£ä¹ˆ`[nums[i],nums[j],nums[k]]`ç»„åˆå¿…ç„¶é‡å¤ï¼Œè¿™æ ·å°±å¯ä»¥continueå¾ªçŽ¯ï¼Œè®©`i`å‘åŽç§»è‡³ä¸‹ä¸€ä¸ªä½ç½®ã€‚
  
```
[-4,-1,-1,0,1,2]
     i    j k

nums[i] + nums[j] + nums[k] = 0
-------
[-4,-1,-1,0,1,2]
        i j k

nums[i] + nums[j] + nums[k] = 0
```

* å…³äºŽ`j,k`ï¼šå½“ä¸æ»¡è¶³`nums[i] + nums[j] + nums[k] = 0`æ—¶ï¼Œå¦‚ä½•ç§»åŠ¨`j,k`ï¼Ÿå¯ä»¥é€šè¿‡æ¯”è¾ƒ`nums[i] + nums[j] + nums[k]`æ˜¯å¦å¤§äºŽé›¶æ¥ç¡®å®šï¼Œå½“å¤§äºŽé›¶æ—¶ï¼Œ`k`å¾€å·¦ç§»ï¼›å½“å°äºŽé›¶æ—¶ï¼Œ`j`å¾€å³ç§»ã€‚

**ä»£ç å¦‚ä¸‹ï¼š**

```Python
class Solution:
  def threeSum(self, nums: List[int]) -> List[List[int]]:
      res = []
      nums.sort()

      for i in range(len(nums)-2):

      #è¿™ä¸ªæ¡ä»¶ä¸åŠ ä¹Ÿå¯ä»¥ï¼Œä½†æ˜¯åŠ äº†å¯ä»¥æé«˜é€Ÿåº¦
          if nums[i] > 0:
              break
              
          if i > 0 and nums[i] == nums[i-1]:
              continue

          j = i+1
          k = len(nums)-1

          while j<k:
              if nums[i] + nums[j] + nums[k] < 0:
                  j += 1
              elif nums[i] + nums[j] + nums[k] > 0:
                  k -= 1
              else: # nums[i] + nums[j] + nums[k] = 0
                  res.append([nums[i],nums[j],nums[k]])

                  j += 1

                  while j<k and nums[j] == nums[j-1]:
                      j += 1

      return res
```

* Time complexity: $\mathcal{O}(n)$ 
    $\mathcal{O}(n\log n) + \mathcal{O}(n)$, `list.sort()` + å¾ªçŽ¯
* Space complexity: $\mathcal{O}(n)$ 
  In python, sorting algorithm use Timsort which uses O(n) space.

---

This question is similar to **167. Two Sum II - Input Array Is Sorted** question.

## Backlinks
- [Leetcode ç¬”è®°ç›®å½•](Leetcodeç¬”è®°ç›®å½•.md)
- [Two Pointers](Two_Pointers.md)